<div *ngIf="!isOn" class="overlay-loading">
    <div class="parent">
        <div class="entire"></div>
    </div>
</div>

<!-- alert -->

<!-- <div (mouseover)="mouseOver()" (mouseout)="mouseOut()" class="alert alert-success alert-dismissible fade" [class.show]="success" role="alert">
    {{successMessage}}
    <button (click)="close()" type="button" aria-label="Close" class="close"><span aria-hidden="true">×</span></button>
</div> -->

<div class="toya-container">
    <div class="row">
        <div class="products col-12">
            <div *ngIf="check">
                <div class="product text-center" *ngFor="let product of data">
                    <a [routerLink]="['/product', product.slug]">
                        <div class="product-top">
                            <div *ngIf="discountValidate(product.discount_percentage)" class="discount"><span>{{product.discount_percentage}}% OFF</span></div>
                            <img [src]="product.images[0].url" alt="">
                        </div>
                        <p class="mt-3">{{product.name}}</p>
                        <!-- <div>
                      <ngb-rating [max]="6" [(rate)]="currentRate">
                      <ng-template let-fill="fill" let-index="index">
                          <span class="star" [class.filled]="fill === 100">&#9733;</span>
                      </ng-template>
                      </ngb-rating>
                  </div> -->
                        <div class="price mt-3 mb-5">
                            <div *ngIf="discountValidate(product.discount_percentage)" class="off">{{product.price}}<span class="currency"> EG</span><span class="line"></span></div>
                            <span class="new">{{product.price - product.price * product.discount_percentage / 100}}<span class="currency"> EG</span></span>
                        </div>
                    </a>

                    <div class="add-cart">
                        <button *ngIf="!product.addedCart" (click)="addToCart(product)" id="product{{product.id}}" class="btn">{{lang == 'ar'? 'أضف للسلة' : 'Add to cart'}}</button>
                        <button *ngIf="product.addedCart" (click)="addToCart(product)" id="product{{product.id}}" class="btn" disabled>{{lang == 'ar'? 'أضيف للسلة' : 'Added to cart'}}</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>