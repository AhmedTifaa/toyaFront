<div>
  <div *ngIf="!isOn" class="overlay-loading">
    <div class="parent">
        <div class="entire"></div>
    </div>
  </div>
  <app-slider></app-slider>

  <app-categories></app-categories>


  <div class="sections container mb-4">
    <ngb-tabset>
      <ngb-tab *ngFor="let cat of catData">
        <ng-template ngbTabTitle>
          {{cat.name_en}}
        </ng-template>
        <ng-template ngbTabContent>
          <div class="row mt-5 product">
            <div class="cat text-center mb-3" *ngFor="let product of cat.products">
              <a [routerLink]="['/product', product.id]">
              <div class="cat-top">
                <div *ngIf="discountValidate(product.discount_percentage)" class="discount">{{product.discount_percentage}}% OFF</div>
                <img [src]="product.images[0].url" alt="">
              </div>
              <p class="mt-1">{{product.name}}</p>
              <!-- <div>
                <ngb-rating [max]="6" [(rate)]="currentRate">
                  <ng-template let-fill="fill" let-index="index">
                    <span class="star" [class.filled]="fill === 100">&#9733;</span>
                  </ng-template>
                </ngb-rating>
              </div> -->
              <div class="price mb-5">
                <div *ngIf="discountValidate(product.discount_percentage)" class="off">{{product.price}}<span class="currency"> EG</span><span class="line"></span></div>
                <span class="new">{{product.price - product.price * product.discount_percentage / 100}}<span class="currency"> EG</span></span>
              </div>
            </a>
              <div class="add-cart">
                <button (click)="addToCart(product)" class="btn">Add to cart</button>
              </div>
            </div>
          </div>
          <!-- <div class="row mt-5 viewall">
            <a class="btn">View All</a>
          </div> -->
        </ng-template>
      </ngb-tab>
    </ngb-tabset>
  </div>

  <!-- Blogs -->

  <!-- product -->

  <h2 class="text-center">Recent Products</h2>
  <div class="container mb-4">
    <div class="row mt-5 product">
      <div class="cat text-center mb-3" *ngFor="let product of recentData">
        <a [routerLink]="['/product', product.id]">
        <div class="cat-top">
          <div *ngIf="discountValidate(product.discount_percentage)" class="discount">{{product.discount_percentage}}% OFF</div>
          <img [src]="product.images[0].url" alt="">
        </div>
        <p class="mt-3">{{product.name}}</p>
        <!-- <div>
          <ngb-rating [max]="6" [(rate)]="currentRate">
            <ng-template let-fill="fill" let-index="index">
              <span class="star" [class.filled]="fill === 100">&#9733;</span>
            </ng-template>
          </ngb-rating>
        </div> -->
        <div class="price mt-3 mb-5">
          <div *ngIf="discountValidate(product.discount_percentage)" class="off">{{product.price}}<span class="currency"> EG</span><span class="line"></span></div>
          <span class="new">{{product.price - product.price * product.discount_percentage / 100}}<span class="currency"> EG</span></span>
        </div>
      </a>
        <div class="add-cart">
          <button (click)="addToCart(product)" class="btn">Add to cart</button>
        </div>
      </div>
    </div>
    <!-- <div class="row mt-5 viewall">
      <a class="btn">View All</a>
    </div> -->
  </div>
</div>
